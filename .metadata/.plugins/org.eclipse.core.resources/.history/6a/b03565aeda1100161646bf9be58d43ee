package ebaluaketa3;

import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;
import javax.swing.JMenuBar;
import javax.swing.JMenu;
import javax.swing.JMenuItem;
import javax.swing.JOptionPane;
import java.awt.FlowLayout;
import javax.swing.JTextPane;
import java.awt.CardLayout;
import java.awt.Color;

import com.jgoodies.forms.layout.FormLayout;
import com.jgoodies.forms.layout.ColumnSpec;
import com.jgoodies.forms.layout.RowSpec;
import javax.swing.GroupLayout;
import javax.swing.GroupLayout.Alignment;
import javax.swing.JFileChooser;
import javax.swing.DropMode;
import java.awt.Font;
import javax.swing.JEditorPane;

public class LeihoaJEditorPane extends JFrame implements ChangeListener, ActionListener {
	
	int aukera;
	
	private JMenuBar menuBar;
	private JMenu mnFitxategia;
	private JMenuItem mntmBerria;
	private JMenuItem mntmIreki;
	private JMenuItem mntmGorde;
	private JMenuItem mntmItxi;
	
	private JMenu mnLaguntza;
	private JMenuItem mntmAbout;
	
	JEditorPane editorPane;

	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					LeihoaJEditorPane frame = new LeihoaJEditorPane();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}

	/**
	 * Create the frame.
	 */
	public LeihoaJEditorPane() {
		setTitle("ezTXT");
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(700, 300, 324, 409);
		
		menuBar = new JMenuBar();
		setJMenuBar(menuBar);
		
		mnFitxategia = new JMenu("Fitxategia");
		menuBar.add(mnFitxategia);
		
		mntmBerria = new JMenuItem("Berria");
		mnFitxategia.add(mntmBerria);
		mntmBerria.addActionListener(this);
		
		mntmIreki = new JMenuItem("Ireki");
		mnFitxategia.add(mntmIreki);
		mntmIreki.addActionListener(this);
		
		mntmGorde = new JMenuItem("Gorde");
		mnFitxategia.add(mntmGorde);
		mntmGorde.addActionListener(this);
		
		mntmItxi = new JMenuItem("Irten");
		mnFitxategia.add(mntmItxi);
		mntmItxi.addActionListener(this);
		
		mnLaguntza = new JMenu("Laguntza");
		menuBar.add(mnLaguntza);
		
		mntmAbout = new JMenuItem("About");
		mnLaguntza.add(mntmAbout);
		mntmAbout.addActionListener(this);
		getContentPane().setLayout(new BorderLayout(0, 0));
		
		editorPane = new JEditorPane();
		getContentPane().add(editorPane, BorderLayout.CENTER);
		editorPane.setBackground(Color.decode("#1f1f1f"));
		
		
		
		
	}
	

	@Override
	public void actionPerformed(ActionEvent e) {
		if(e.getSource() == mntmBerria || e.getSource() == mntmBerria){
			//JOptionPane.showMessageDialog(null, "berria");
			this.DokumentuBerria();
		}
		if(e.getSource() == mntmIreki || e.getSource() == mntmIreki){
			//JOptionPane.showMessageDialog(null, "ireki");
			this.DokumentuaIreki();
		}
		if(e.getSource() == mntmItxi || e.getSource() == mntmItxi){
			//JOptionPane.showMessageDialog(null, "itxi");
			this.DokumentuaItxi();
		}
		if(e.getSource() == mntmAbout || e.getSource() == mntmAbout){
			JOptionPane.showMessageDialog(null, "About my program: XAXAXAXAXA asdafo");
		}
		
	}
	
	private void GordeNahi(){

		aukera = JOptionPane.showConfirmDialog(null, (String)"Aldaketak gorde nahi?","ezTXT", JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.WARNING_MESSAGE, null);
	
	}

	private void DokumentuaIreki() {
		GordeNahi();
		JFileChooser fileChooser = new JFileChooser(); 
		int path = fileChooser.showOpenDialog(rootPane);
		// TODO Auto-generated method stub
		/*if (fileChooser == null){
			fileChooser = new JFileChooser();
			
			FileNameExtensionFilter filter = new FileNameExtensionFilter()
				fileChooser.setFileSilter(filter)
		}*/
		
	}
	
	private void DokumentuaItxi() {
		GordeNahi();
		switch (aukera){
		case 0:
			//gorde eta salto egin 1-era
		case 1:
			System.exit(0); 
			break;
		case 2:
			break;
		}
		/*if (aukera != 2){ //Se ha pulsado cancelar
		System.exit(0); 
		}*/
	}

	private void DokumentuBerria() {
		GordeNahi();
	}

	@Override
	public void stateChanged(ChangeEvent arg0) {
		// TODO Auto-generated method stub
		
	}
}
